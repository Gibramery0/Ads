(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{6727:function(e,t,r){Promise.resolve().then(r.bind(r,61))},61:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7437),a=r(2265),s=r(4033),i=r(8222),l=r(7312);function c(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(1),[h,f]=(0,a.useState)(!0),[g,p]=(0,a.useState)(0),x=(0,s.useSearchParams)().get("q")||"",v=(0,a.useCallback)(async function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!x){t([]),c(!1);return}try{1===e&&c(!0);let n=await (0,i.kT)(100,e,void 0,x),a=[];if(n.games&&Array.isArray(n.games))a=n.games,n.total&&p(n.total);else if(Array.isArray(n))a=n;else{console.error("Unexpected API response format:",n),d("API yanıt formatı beklenmedik şekilde");return}a.length<100&&f(!1),r?t(e=>[...e,...a]):t(a)}catch(e){console.error("Error loading games:",e),d("Oyunlar y\xfcklenirken bir hata oluştu: "+(e.message||String(e)))}finally{c(!1)}},[x]),y=(0,a.useCallback)(()=>{if(r||!h)return;let e=u+1;m(e),v(e,!0)},[r,h,u,v]);(0,a.useEffect)(()=>{m(1),f(!0),v(1,!1)},[x,v]);let j=e.map(e=>({id:e.id||e._id||e.Id||"",title:e.title||e.Title||"İsimsiz Oyun",thumbnail:e.thumbnail||e.Assets&&e.Assets[0]||"https://via.placeholder.com/300x200",category:e.category||e.Genres&&e.Genres[0]||"Genel"}));return o?(0,n.jsx)("div",{className:"container mx-auto text-center py-10 text-red-500",children:o}):(0,n.jsxs)("div",{className:"container mx-auto py-2 pl-2 pr-1",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-2 pl-2",children:[x?'"'.concat(x,'" i\xe7in arama sonu\xe7ları'):"Arama",(0,n.jsx)("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:g>0?"(".concat(g," sonu\xe7)"):"(".concat(j.length," sonu\xe7)")})]}),x?r&&0===j.length?(0,n.jsx)("div",{className:"text-center py-10",children:"Arama sonu\xe7ları y\xfckleniyor..."}):0===j.length?(0,n.jsxs)("div",{className:"text-center py-10",children:[(0,n.jsxs)("p",{children:['"',x,'" i\xe7in sonu\xe7 bulunamadı.']}),(0,n.jsx)("p",{className:"text-muted-foreground mt-2",children:"Farklı anahtar kelimeler deneyebilir veya daha genel bir arama yapabilirsiniz."})]}):(0,n.jsx)(l.Z,{games:j,loading:r,hasMore:h,onLoadMore:y}):(0,n.jsx)("div",{className:"text-center py-10",children:(0,n.jsx)("p",{children:"Arama yapmak i\xe7in yukarıdaki arama kutusunu kullanın."})})]})}},7438:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var n=r(7437),a=r(1396),s=r.n(a),i=r(6691),l=r.n(i),c=r(2169),o=r(2265);function d(e){let{id:t,title:r,imageUrl:a,category:i,className:d,aspectRatio:u="square",width:m,height:h}=e,[f,g]=(0,o.useState)(!1);return(0,n.jsx)("div",{className:(0,c.cn)("relative overflow-hidden rounded-sm",d),children:(0,n.jsx)(s(),{href:"/game/".concat(t),className:"block h-full w-full hover-card",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:(0,c.cn)("overflow-hidden rounded-sm",{"aspect-square":"square"===u,"aspect-[3/4]":"portrait"===u,"aspect-video":"video"===u}),children:(0,n.jsx)(l(),{src:f?"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400&h=300&fit=crop&auto=format&q=80":a,alt:r,width:m||300,height:h||300,className:"object-cover",onError:()=>g(!0),unoptimized:!0})}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-1",children:(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"font-medium text-white line-clamp-2 text-xs",children:r})})})]})})})}},7312:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(7437),a=r(2265),s=r(7438);function i(e){let{games:t,loading:r=!1,hasMore:i=!1,onLoadMore:l}=e,[c,o]=(0,a.useState)(r),d=(0,a.useRef)(null),u=(0,a.useRef)(null),m=(0,a.useCallback)(e=>{!r&&(d.current&&d.current.disconnect(),d.current=new IntersectionObserver(e=>{e[0].isIntersecting&&i&&l&&l()},{rootMargin:"100px"}),e&&d.current.observe(e))},[r,i,l]);return((0,a.useEffect)(()=>()=>{d.current&&d.current.disconnect()},[]),(0,a.useEffect)(()=>{!r&&c&&o(!1)},[r]),c)?(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-1 pl-2 pr-0 py-1",children:Array.from({length:12}).map((e,t)=>(0,n.jsx)("div",{className:"aspect-video bg-muted rounded-md animate-pulse"},t))}):t&&0!==t.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-1 pl-2 pr-0 py-1",children:t.map((e,r)=>(0,n.jsx)("div",{ref:r===t.length-1?m:void 0,children:(0,n.jsx)(s.y,{id:e.id,title:e.title,imageUrl:e.thumbnail,category:[e.category],aspectRatio:"video",className:"h-full w-full transition-transform hover:scale-[1.02] duration-200"})},e.id))}),r&&!c&&(0,n.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,n.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),(0,n.jsx)("div",{ref:u,className:"h-1 w-full"})]}):(0,n.jsx)("div",{className:"text-center py-10",children:(0,n.jsx)("p",{children:"Bu kategoride oyun bulunamadı."})})}},8222:function(e,t,r){"use strict";async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;try{let a="/api/games?limit=".concat(e,"&page=").concat(t);r&&"all"!==r&&(a+="&category=".concat(encodeURIComponent(r))),n&&(a+="&search=".concat(encodeURIComponent(n)));let s=await fetch(a);if(!s.ok){let e=await s.json();throw Error(e.error||"API isteği başarısız")}let i=await s.json();return console.log("API response data:",i),i}catch(e){throw console.error("fetchGames error:",e),e}}r.d(t,{kT:function(){return n}})},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(7042),a=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[895,250,360,971,938,744],function(){return e(e.s=6727)}),_N_E=e.O()}]);