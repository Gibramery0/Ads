"use strict";(()=>{var e={};e.id=280,e.ids=[280],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4325:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>y});var o={};t.r(o),t.d(o,{GET:()=>p});var a=t(95419),n=t(69108),i=t(99678),s=t(78070),u=t(81494),l=t(74343);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("q");if(!t||t.length<2)return s.Z.json({error:"Arama sorgusu en az 2 karakter olmalıdır"},{status:400});await (0,u.Z)();let o=await l.Z.find({$or:[{title:{$regex:t,$options:"i"}},{description:{$regex:t,$options:"i"}},{category:{$regex:t,$options:"i"}}]}).limit(20).lean();return s.Z.json(o)}catch(e){return console.error("Arama yapılamadı:",e),s.Z.json({error:"Arama yapılamadı"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"C:\\Users\\ibrya\\PycharmProjects\\pythonProject\\.venv\\Scripts\\codes\\Python_Projects_github\\Ads_v2\\Ads\\src\\app\\api\\search\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:h,staticGenerationBailout:y}=c,f="/api/search/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},81494:(e,r,t)=>{t.d(r,{Z:()=>s});var o=t(11185),a=t.n(o);let n=process.env.MONGODB_URI||"mongodb://localhost:27017/games",i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let s=async function(){return i.conn||(i.promise||(i.promise=a().connect(n,{bufferCommands:!1}).then(e=>(console.log("MongoDB connected to:",n),e))),i.conn=await i.promise),i.conn}},74343:(e,r,t)=>{t.d(r,{Z:()=>i});var o=t(11185),a=t.n(o);let n=new(a()).Schema({title:{type:String,required:!0,trim:!0},description:{type:String,required:!1,trim:!0},category:{type:String,required:!0,trim:!0},thumbnail:{type:String,required:!1},url:{type:String,required:!1},featured:{type:Boolean,default:!1},popular:{type:Boolean,default:!1},createdAt:{type:Date,default:Date.now}},{timestamps:!0}),i=a().models.Game||a().model("Game",n)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,206],()=>t(4325));module.exports=o})();