(()=>{var e={};e.id=797,e.ids=[797],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},94850:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(50482),a=t(69108),n=t(62563),i=t.n(n),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,49473)),"C:\\Users\\ibrya\\PycharmProjects\\pythonProject\\.venv\\Scripts\\codes\\Python_Projects_github\\Ads_v2\\Ads\\src\\app\\search\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,26826)),"C:\\Users\\ibrya\\PycharmProjects\\pythonProject\\.venv\\Scripts\\codes\\Python_Projects_github\\Ads_v2\\Ads\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\ibrya\\PycharmProjects\\pythonProject\\.venv\\Scripts\\codes\\Python_Projects_github\\Ads_v2\\Ads\\src\\app\\search\\page.tsx"],u="/search/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},26664:(e,r,t)=>{Promise.resolve().then(t.bind(t,4831))},4831:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(95344),a=t(3729),n=t(22254),i=t(96548),o=t(76058);function l(){let[e,r]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(1),[p,h]=(0,a.useState)(!0),[x,g]=(0,a.useState)(0),y=(0,n.useSearchParams)().get("q")||"",v=(0,a.useCallback)(async(e,t=!1)=>{if(!y){r([]),l(!1);return}try{1===e&&l(!0);let s=await (0,i.kT)(100,e,void 0,y),a=[];if(s.games&&Array.isArray(s.games))a=s.games,s.total&&g(s.total);else if(Array.isArray(s))a=s;else{console.error("Unexpected API response format:",s),d("API yanıt formatı beklenmedik şekilde");return}a.length<100&&h(!1),t?r(e=>[...e,...a]):r(a)}catch(e){console.error("Error loading games:",e),d("Oyunlar y\xfcklenirken bir hata oluştu: "+(e.message||String(e)))}finally{l(!1)}},[y]),f=(0,a.useCallback)(()=>{if(t||!p)return;let e=u+1;m(e),v(e,!0)},[t,p,u,v]);(0,a.useEffect)(()=>{m(1),h(!0),v(1,!1)},[y,v]);let j=e.map(e=>({id:e.id||e._id||e.Id||"",title:e.title||e.Title||"İsimsiz Oyun",thumbnail:e.thumbnail||e.Assets&&e.Assets[0]||"https://via.placeholder.com/300x200",category:e.category||e.Genres&&e.Genres[0]||"Genel"}));return c?s.jsx("div",{className:"container mx-auto text-center py-10 text-red-500",children:c}):(0,s.jsxs)("div",{className:"container mx-auto py-2 pl-2 pr-1",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold mb-2 pl-2",children:[y?`"${y}" i\xe7in arama sonu\xe7ları`:"Arama",s.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:x>0?`(${x} sonu\xe7)`:`(${j.length} sonu\xe7)`})]}),y?t&&0===j.length?s.jsx("div",{className:"text-center py-10",children:"Arama sonu\xe7ları y\xfckleniyor..."}):0===j.length?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsxs)("p",{children:['"',y,'" i\xe7in sonu\xe7 bulunamadı.']}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Farklı anahtar kelimeler deneyebilir veya daha genel bir arama yapabilirsiniz."})]}):s.jsx(o.Z,{games:j,loading:t,hasMore:p,onLoadMore:f}):s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{children:"Arama yapmak i\xe7in yukarıdaki arama kutusunu kullanın."})})]})}},58016:(e,r,t)=>{"use strict";t.d(r,{y:()=>d});var s=t(95344),a=t(20783),n=t.n(a),i=t(41223),o=t.n(i),l=t(11453),c=t(3729);function d({id:e,title:r,imageUrl:t,category:a,className:i,aspectRatio:d="square",width:u,height:m}){let[p,h]=(0,c.useState)(!1);return s.jsx("div",{className:(0,l.cn)("relative overflow-hidden rounded-sm",i),children:s.jsx(n(),{href:`/game/${e}`,className:"block h-full w-full hover-card",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:(0,l.cn)("overflow-hidden rounded-sm",{"aspect-square":"square"===d,"aspect-[3/4]":"portrait"===d,"aspect-video":"video"===d}),children:s.jsx(o(),{src:p?"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400&h=300&fit=crop&auto=format&q=80":t,alt:r,width:u||300,height:m||300,className:"object-cover",onError:()=>h(!0),unoptimized:!0})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-1",children:s.jsx("div",{children:s.jsx("h3",{className:"font-medium text-white line-clamp-2 text-xs",children:r})})})]})})})}},76058:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(95344),a=t(3729),n=t(58016);function i({games:e,loading:r=!1,hasMore:t=!1,onLoadMore:i}){let[o,l]=(0,a.useState)(r),c=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useCallback)(e=>{!r&&(c.current&&c.current.disconnect(),c.current=new IntersectionObserver(e=>{e[0].isIntersecting&&t&&i&&i()},{rootMargin:"100px"}),e&&c.current.observe(e))},[r,t,i]);return((0,a.useEffect)(()=>()=>{c.current&&c.current.disconnect()},[]),(0,a.useEffect)(()=>{!r&&o&&l(!1)},[r]),o)?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-1 pl-2 pr-0 py-1",children:Array.from({length:12}).map((e,r)=>s.jsx("div",{className:"aspect-video bg-muted rounded-md animate-pulse"},r))}):e&&0!==e.length?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-1 pl-2 pr-0 py-1",children:e.map((r,t)=>s.jsx("div",{ref:t===e.length-1?u:void 0,children:s.jsx(n.y,{id:r.id,title:r.title,imageUrl:r.thumbnail,category:[r.category],aspectRatio:"video",className:"h-full w-full transition-transform hover:scale-[1.02] duration-200"})},r.id))}),r&&!o&&s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),s.jsx("div",{ref:d,className:"h-1 w-full"})]}):s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{children:"Bu kategoride oyun bulunamadı."})})}},96548:(e,r,t)=>{"use strict";async function s(e=20,r=1,t,s){try{let a=`/api/games?limit=${e}&page=${r}`;t&&"all"!==t&&(a+=`&category=${encodeURIComponent(t)}`),s&&(a+=`&search=${encodeURIComponent(s)}`);let n=await fetch(a);if(!n.ok){let e=await n.json();throw Error(e.error||"API isteği başarısız")}let i=await n.json();return console.log("API response data:",i),i}catch(e){throw console.error("fetchGames error:",e),e}}t.d(r,{kT:()=>s})},49473:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,t(86843).createProxy)(String.raw`C:\Users\ibrya\PycharmProjects\pythonProject\.venv\Scripts\codes\Python_Projects_github\Ads_v2\Ads\src\app\search\page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,20,167],()=>t(94850));module.exports=s})();